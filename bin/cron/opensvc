#!/opt/opensvc/bin/python

import sys
import os

"""
When installed in /etc/cron.daily/ this must be a symlink to the
file in the opensvc distrib, wherever installed, so that we can compute
relative paths to locate libs
"""

pathsvc = os.path.realpath(os.path.join(os.path.dirname(__file__), '..', '..'))
pathlib = os.path.join(pathsvc, 'lib')
sys.path = [pathlib] + sys.path

import node

n = node.Node()
n.scheduler()

n.build_services()
for s in n.svcs:
    s.scheduler()

n.close()

#
# Template etc/node.conf
#
#   This configuration file describes node-wide parameters.
#
#   The interval-days-period tuple is used to tune the schedule of
#   jobs run by the 'opensvc' cron-job.
#
#   This file can be left empty except for node.host_mode. The sync
#   schedule is autogenerated, based on the schedules described in the
#   sync#* resources defined in the service configurations. So no
#   sync schedule should be explicitely defined here.
#
#   The internal schedule defaults for sync and push* actions are:
#     days:     all
#     period:   4am to 6am
#     interval: 1 day
#
#   The internal schedule defaults for 'compliance check' action are:
#     days:     sunday
#     period:   5am to 6am
#     interval: 1 week
#
#   Schedule parameters details:
#     interval
#        type: integer
#        unit: minutes
#     days
#        type: json list
#        unit: weekday in C locale (%A)
#     period
#        type: json list or list of list
#        unit: %H:%M
#

[node]
#
# A PRD host mode will only allow PRD services to run. A not-PRD mode
# allows any service to run.
#
;host_mode = DEV

#
# The team responsible set here will be pushed to the collector's asset
# table. An admin allowed to edit opensvc configuration files on a node
# can set this team_responsible and gain the edit privilege on the asset
# in the collector.
#
;team_responsible = Homies

#
# You can optionally define asset information. They will be pushed to the
# collector, so that the compliance ruleset can use this information just
# after opensvc is bootstraped.
#
# A postinstall workflow would look like this: 
#
#   vanilla install
#   install opensvc
#   nodemgr set --param node.loc_city = Paris
#   nodemgr set --param node.team_responsible = Homies
#   nodemgr pushasset --force
#   nodemgr compliance attach moduleset --moduleset sys.core
#   nodemgr compliance fix
#
;loc_country = France
;loc_city = Paris
;loc_zip = 75017
;loc_addr = 7 rue blanche
;loc_building = crystal
;loc_floor = 21
;loc_room = 102
;loc_rack = R42

#
# Set the uri of the collectors' xmlrpc servers
# Default values as example.
#
;dbopensvc = https://collector.opensvc.com/feed/default/call/xmlrpc
;dbcompliance = https://collector.opensvc.com/init/compliance/call/xmlrpc

#
# Schedule parameters for the 'compliance check' node action
#
[compliance]
;interval = 1439
;period = ["00:00", "23:59"]
;days = ["saturday", "sunday"]

[stats]
;interval = 30
;period = [["04:00", "08:00"], ["23:00", "01:30"]]
;days = ["saturday", "sunday"]

[checks]
;interval = 120
;period = [["04:00", "08:00"], ["23:00", "01:30"]]
;days = ["saturday", "sunday"]

[packages]
;interval = 120
;period = [["04:00", "08:00"], ["23:00", "01:30"]]
;days = ["saturday", "sunday"]

[patches]
;interval = 120
;period = [["04:00", "08:00"], ["23:00", "01:30"]]
;days = ["saturday", "sunday"]

[asset]
;interval = 120
;period = [["04:00", "08:00"], ["23:00", "01:30"]]
;days = ["saturday", "sunday"]

[sym]
;interval = 120
;period = [["04:00", "08:00"], ["23:00", "01:30"]]
;days = ["saturday", "sunday"]

[svcconf]
;interval = 120
;period = [["04:00", "08:00"], ["23:00", "01:30"]]
;days = ["saturday", "sunday"]

[appinfo]
;interval = 120
;period = [["04:00", "08:00"], ["23:00", "01:30"]]
;days = ["saturday", "sunday"]

